{"version":3,"sources":["components/SearchForm.js","components/Nav.js","config.js","components/Photo.js","components/NotFound.js","components/PhotoContainer.js","components/ErrorFourFour.js","App.js","index.js"],"names":["SearchForm","props","query","useRef","history","useHistory","className","onSubmit","e","preventDefault","console","log","current","value","newQuery","path","push","type","name","placeholder","ref","required","fill","height","viewBox","width","xmlns","d","Nav","to","apiKey","Photo","src","url","alt","title","NotFound","PhotoContainer","useParams","useState","images","setImages","loading","setLoading","updateQuery","document","useEffect","a","undefined","apiURL","axios","get","req","data","photos","photo","fetchData","length","map","image","url_m","id","ErrorFourFour","App","setQuery","exact","render","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.90ca9140.chunk.js","sourcesContent":["import React, {useRef} from 'react'\nimport { useHistory } from \"react-router-dom\";\n\n\nfunction SearchForm(props) {\n    const query = useRef(null);\n    let history = useHistory();\n\n    // On form submit update the query and change the url\n    const handleSubmit = (e) =>{\n        e.preventDefault();\n        console.log(query.current.value);\n        // get value from input field\n        let newQuery = query.current.value;\n        let path = `/${newQuery}`;\n        //update the url by pushing to page history\n        history.push(path); \n        //reset input field to empty\n        query.current.value = null;\n      }\n\n    return (\n        <form className=\"search-form\" onSubmit={handleSubmit}>\n        <input type=\"search\" name=\"search\" placeholder=\"Search\" ref={query} required/>\n        <button type=\"submit\" className=\"search-button\">\n          <svg fill=\"#fff\" height=\"24\" viewBox=\"0 0 23 23\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n          </svg>\n        </button>\n      </form>\n    )\n}\n\nexport default SearchForm\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\n\nfunction Nav() {\n\n    \n    return (\n        <nav className=\"main-nav\">\n            <ul>\n            <li><NavLink to='/birthday%20cake'>Bday Cake</NavLink></li>\n            <li><NavLink to='/coffee%20Cake'>Coffee Cake</NavLink></li>\n            <li><NavLink to='/ice%20cream'>Ice Cream</NavLink></li>\n            </ul>\n      </nav>\n    )\n}\n\nexport default Nav\n","const apiKey = '10dd87213360fbda424eb123d535839f';\nexport default apiKey;","import React from 'react'\n\nfunction Photo(props) {\n    return (\n        <li>\n            <img src= {props.url} alt= {props.title} />\n        </li>\n    )\n}\n\nexport default Photo\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <li className=\"not-found\">\n            <h3>No Results Found</h3>\n            <p>You search did not return any results. Please try again.</p>\n        </li>\n    )\n}\n\nexport default NotFound\n","import React, {useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport axios from 'axios';\n\nimport apiKey from '../config';\nimport Photo from './Photo';\nimport NotFound from './NotFound';\n\n\nfunction PhotoContainer(props) {\n\n    //Get query from URL params\n    const {query}  = useParams();\n\n    //Initiate images state\n    const [images, setImages] = useState([]);\n    //Initiate loading state\n    const [loading, setLoading] = useState([true]);\n    \n    // if the query state doesn't match the URL param, update the Query state to the param\n    // and update page Title\n    if(props.query !== query){\n        props.updateQuery(query);\n        document.title = `Photos of ${query}`;\n    }   \n\n    //Get images from Flickr every time the query in the url is updated\n    useEffect(()=>{\n        async function fetchData(){\n            if(props.query!== undefined){\n                const apiURL = `https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=${apiKey}&extras=url_m&tags=${props.query}&per_page=24&format=json&nojsoncallback=1`;\n                const req = await axios.get(apiURL);\n                //Update image state to returned images\n                setImages(req.data.photos.photo)\n                //Update loading state since results were return\n                setLoading(false);\n            }\n        }\n            fetchData()\n    }, [props.query]);\n\n    // check if there are resulting images otherwise render Page Not Found Component\n    const checkIfResults = ()=>{\n        //if page is loading\n        if(loading){\n            return <h2>Loading...</h2> \n        }\n        //if there are image results\n        else if(props.query && images.length> 0 ){\n            console.log(props.query);\n            //Iterate over returned images and render Photo component for each\n            return images.map(image => <Photo key= {image.id} url= {image.url_m} alt={image.title}/>)\n        }\n        else{\n            return <NotFound />\n        }\n    }\n\n    return (\n        \n        <div className=\"photo-container\">\n        \n        <h2>You Searched For: {query}</h2>\n        \n            <ul>\n                { checkIfResults() }\n            </ul>\n\n        \n        </div>\n    )\n}\n\nexport default PhotoContainer\n","import React from 'react'\nimport { Link } from 'react-router-dom';\n\n\nfunction ErrorFourFour() {\n    return (\n        <li className=\"not-found\">\n            <h3>Page Not Found: 404</h3>\n            <p>This page doesn't exist. Click here to head back <Link to=\"/\">home</Link></p>\n        </li>\n    )\n}\n\nexport default ErrorFourFour\n","import React, { useState } from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n\n\n\nimport SearchForm from './components/SearchForm';\nimport Nav from './components/Nav';\nimport PhotoContainer from './components/PhotoContainer';\nimport NotFound from './components/NotFound';\nimport ErrorFourFour from './components/ErrorFourFour';\n\nfunction App() {\n  // Initiate Query state\n  const [ query, setQuery] = useState();\n\n  // Function to update query state passed to other components\n  const updateQuery = (newQuery)=>{\n    setQuery(newQuery);\n  }\n\n  return (\n    <div className=\"container\">\n    <BrowserRouter> \n      <SearchForm />\n      <Nav updateQuery={updateQuery}/>\n        <Switch>\n          <Route exact path='/' render={ () => <Redirect to={`/apple%20pie`} /> } />\n          <Route exact path=\"/:query\" render={(props)=> <PhotoContainer query={query} updateQuery={updateQuery}/>} />\n          {/* if no matching route, render Not Found */}\n          <Route component={ErrorFourFour} />\n        </Switch>\n      </BrowserRouter>  \n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}